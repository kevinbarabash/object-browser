<!DOCTYPE html>
<html>
<head lang="en">
  <meta charset="UTF-8">
  <title></title>
  <style>
    textarea {
      font-family: 'monaco', 'lucida console', monospace;
      font-size: 12pt;
      width: 350px;
      height: 200px;
    }

    #container {
      display: flex;
      flex-direction: row;
    }
  </style>
  <link rel="stylesheet" href="../object-browser.css"/>
  <script src="../bower_components/jquery/dist/jquery.min.js"></script>
  <script src="../bower_components/observe-js/src/observe.js"></script>
  <script src="../object-browser.js"></script>
</head>
<body>

<button id="update">Update</button>

<div id="container">
  <textarea id="changes"></textarea>
  <div id="browser" class="object-browser"></div>
</div>

</body>
</html>
<script>

  var obj = {
    x: 5,
    y: 10,
    z: undefined,
    items: ["apple", "pineapple", [1,2,3]],
    sub: {
      p: 1,
      q: -1
    },
    message: "hello, world",
    on: false
  };

  var $container = $("#browser");
  $container.append(genPropsList(obj));

  document.querySelector("#update").addEventListener("click", function () {
    var $textarea = $("#changes");
    eval($textarea.val());
    Platform.performMicrotaskCheckpoint();
    $textarea.val("");  // clear
  });


</script>